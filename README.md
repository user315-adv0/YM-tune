# üéµ Auto DJ - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π DJ —Å –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–æ–º

MVP –∞–≤—Ç–æ-DJ —Å–∏—Å—Ç–µ–º–∞ —Å –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–æ–º, BPM-–∞–Ω–∞–ª–∏–∑–æ–º –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–º–∏ –ø–µ—Ä–µ—Ö–æ–¥–∞–º–∏ –Ω–∞ –±–∞–∑–µ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏.

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### Backend (Python + FastAPI)
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π API** `/tracks/{id}` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª—é–±—ã–µ ID –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:**
  - –ê–ª—å–±–æ–º—ã (—á–∏—Å–ª–æ–≤—ã–µ ID: `7935690`)
  - –ü–ª–µ–π–ª–∏—Å—Ç—ã (—á–∏—Å–ª–æ–≤—ã–µ ID: `123456`)
  - –õ—é–±–∏–º—ã–µ —Ç—Ä–µ–∫–∏ (`liked`)
  - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø–ª–µ–π–ª–∏—Å—Ç—ã (`lk.xxx`)
- **–ü—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏** –Ω–∞ mp3 —Ñ–∞–π–ª—ã –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
- **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤

### Frontend (React + TypeScript + Web Audio API)
- **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏
- **DJ –ø–ª–µ–µ—Ä** —Å –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–æ–º (1-15 —Å–µ–∫—É–Ω–¥)
- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞** –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø–æ ID
- **–°–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤** —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
- **Web Audio API** –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–≤—É–∫–∞

### –§—É–Ω–∫—Ü–∏–∏
- ‚úÖ **–ö—Ä–æ—Å—Å—Ñ–µ–π–¥** –º–µ–∂–¥—É —Ç—Ä–µ–∫–∞–º–∏ –±–µ–∑ –ø–∞—É–∑
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
- ‚úÖ **–ü—Ä—è–º—ã–µ URL** —Ç—Ä–µ–∫–æ–≤ –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
- ‚úÖ **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–≤–æ–¥** ‚Äî –ª—é–±–æ–π ID –∏–∑ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏
- ‚úÖ **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏ —Å—Ç–∞—Ç—É—Å–∞
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–æ–∫–µ–Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ [music.yandex.ru](https://music.yandex.ru)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç
3. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `yaMusic.getUser()`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ `token`
6. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:
```env
YA_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å
```

### 2. –ó–∞–ø—É—Å–∫

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ (backend + frontend)
./start.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
cd backend && pip install -r requirements.txt && uvicorn main:app --reload
cd frontend && npm install && npm run dev
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
2. –í–≤–µ–¥–∏—Ç–µ ID –∏—Å—Ç–æ—á–Ω–∏–∫–∞:
   - `liked` ‚Äî –ª—é–±–∏–º—ã–µ —Ç—Ä–µ–∫–∏
   - `7935690` ‚Äî –∞–ª—å–±–æ–º (—á–∏—Å–ª–æ–≤–æ–π ID)
   - `lk.xxx` ‚Äî –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –ø–ª–µ–π–ª–∏—Å—Ç
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–∞ (1-15 —Å–µ–∫)
4. –ù–∞–∂–º–∏—Ç–µ "‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å DJ"

## üß™ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ç—å

### –†–∞–±–æ—á–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏:
- **–ê–ª—å–±–æ–º—ã:** `7935690` (mgk - Sex Drive)
- **–õ—é–±–∏–º—ã–µ —Ç—Ä–µ–∫–∏:** `liked` (–µ—Å–ª–∏ –µ—Å—Ç—å –≤ –∞–∫–∫–∞—É–Ω—Ç–µ)
- **–ü–ª–µ–π–ª–∏—Å—Ç—ã:** –ª—é–±—ã–µ —á–∏—Å–ª–æ–≤—ã–µ ID

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:
```bash
# –¢–µ—Å—Ç API
python test_api.py

# –¢–µ—Å—Ç –ª—é–±–∏–º—ã—Ö —Ç—Ä–µ–∫–æ–≤
python test_liked.py

# –¢–µ—Å—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–≥–æ endpoint
python test_universal.py
```

### API Endpoints:
- `GET /` ‚Äî —Å—Ç–∞—Ç—É—Å API
- `GET /health` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–µ
- `GET /tracks/{id}` ‚Äî —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π endpoint
- `GET /playlist/{id}` ‚Äî –ø–ª–µ–π–ª–∏—Å—Ç—ã
- `GET /liked` ‚Äî –ª—é–±–∏–º—ã–µ —Ç—Ä–µ–∫–∏

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
YA_API/
‚îú‚îÄ‚îÄ backend/                # Python + FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # API —Å–µ—Ä–≤–µ—Ä —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º–∏ endpoints
‚îÇ   ‚îú‚îÄ‚îÄ yandex_client.py   # –ö–ª–∏–µ–Ω—Ç –Ø–Ω–¥–µ–∫—Å.–ú—É–∑—ã–∫–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ç–∏–ø–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ models.py          # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Ç–æ–∫–µ–Ω
‚îÇ   ‚îî‚îÄ‚îÄ requirements.txt   # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ frontend/              # TypeScript + React + Vite
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx        # –û—Å–Ω–æ–≤–Ω–æ–π UI —Å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–º –≤–≤–æ–¥–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api.ts         # API –∫–ª–∏–µ–Ω—Ç —Å fetchTracks()
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ player.ts      # DJ –ø–ª–µ–µ—Ä —Å –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–æ–º
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.css        # –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ package.json       # Node –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.html         # HTML —à–∞–±–ª–æ–Ω
‚îú‚îÄ‚îÄ start.sh               # –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ test_*.py              # –¢–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üìù TODO / –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (MVP —É–ª—É—á—à–µ–Ω–∏—è):
- [ ] **BPM –∞–Ω–∞–ª–∏–∑** —Ç—Ä–µ–∫–æ–≤ –¥–ª—è –ø–ª–∞–≤–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ BPM** (¬±3 BPM –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ onsets** (–∫–ª—é—á–µ–≤—ã—Ö –º–æ–º–µ–Ω—Ç–æ–≤) –¥–ª—è —Ç–æ—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤
- [ ] **Pitch-shift** –¥–ª—è –≥–∞—Ä–º–æ–Ω–∏—á–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—è–º–∏

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (UI/UX):
- [ ] **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è BPM** –≤ —Å–ø–∏—Å–∫–µ —Ç—Ä–µ–∫–æ–≤
- [ ] **–ì—Ä–∞—Ñ–∏–∫ –∫—Ä–æ—Å—Å—Ñ–µ–π–¥–∞** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] **–¢–µ–º–Ω–∞—è —Ç–µ–º–∞**

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞):
- [ ] **Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** (backend + frontend)
- [ ] **Unit —Ç–µ—Å—Ç—ã** (Jest + pytest)
- [ ] **CI/CD pipeline**
- [ ] **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4 (–†–∞—Å—à–∏—Ä–µ–Ω–∏—è):
- [ ] **Spotify –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** (—á–µ—Ä–µ–∑ Web Playback SDK)
- [ ] **YouTube Music** –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [ ] **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã** (mp3, flac)
- [ ] **–≠–∫—Å–ø–æ—Ä—Ç –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤** –≤ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

**Backend:**
- Python 3.10+
- FastAPI (–≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫)
- yandex-music (API –∫–ª–∏–µ–Ω—Ç)
- uvicorn (ASGI —Å–µ—Ä–≤–µ—Ä)

**Frontend:**
- TypeScript
- React 18 (UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞)
- Vite (—Å–±–æ—Ä—â–∏–∫)
- Web Audio API (–∑–≤—É–∫)
- Axios (HTTP –∫–ª–∏–µ–Ω—Ç)

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
# Backend
cd backend
pip install -r requirements.txt

# Frontend
cd frontend
npm install
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# Backend (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π)
cd backend && uvicorn main:app --reload

# Frontend (—Å HMR)
cd frontend && npm run dev
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
```bash
# API —Ç–µ—Å—Ç—ã
python test_universal.py

# Frontend —Ç–µ—Å—Ç—ã (–±—É–¥—É—â–∏–µ)
cd frontend && npm test
```

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch (`git checkout -b feature/amazing-feature`)
3. Commit –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git commit -m 'Add amazing feature'`)
4. Push –≤ branch (`git push origin feature/amazing-feature`)
5. –û—Ç–∫—Ä–æ–π—Ç–µ Pull Request

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –≤ `backend/.env`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend/frontend
4. –°–æ–∑–¥–∞–π—Ç–µ issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã 